{% extends "structure.html" %}

{% block main %}
<h2><strong>Reactless Twitter Dapp Dashboard<br/></h2><br/>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding-left: 0px">
    
    
  </div>
<div class="wrap"> 
  <div>
    <h1 class="title"> Actions </h1>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
            <h4>{{message}}</h4>
        {% endfor %}
    {% endif %}
    {% endwith %}
    
    <div class="byUser">
      <!--Beginning modal create form-->
      <a href="/homepage"><button type="button" class="btn btn-primary" ><span class="glyphicon glyphicon-home"></span> Homepage</button></a>
      <a href="/users"><button type="button" class="btn btn-primary">
        <span class="glyphicon glyphicon-user"></span> See All Tweeters
      </button></a>

      <!-- <div style="float:right">
            <a href="/login"><button type="button" class="btn btn-info btn btn-primary" >Login</button></a>
      </div> -->

<!-- End modal create form-->


    </div>
  </div>
  
  </div>
  
  <div class="wrap">
    <div><h1 class="title">Posts</h1></div>
    {% for x in content %}
    <span class="scroll-title-if">
    
    <p class="post">
    <div style="float:right">
        <form action="/" method="post">
            <button type="submit" class="btn btn-info btn btn-default btn-sm">
                <span class="glyphicon glyphicon-repeat"></span> Retweet
                <input type="hidden" id="retweet_field" name="retweet" value= "{{ x[0] }}">
            </button>
        </form>
    </div>

    <div class="userName">
        <h6><b>Posted By: {{x[2]}}</b></h6>
            
    </div>
 
        
    <div class="userName">
      <h6><b>{{x[3]}}</b></h6>  
    </div>
<!-- 
    IMAGE  -->
 
    <div style="float:right; padding-right: 15px; " >
        {% if x[4] != "N/A"  %}
        <img style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); border-radius: 8px;" src="{{x[4]}}" width="110" height="70">
        {% endif %}
    </div>
    
    <div class="body" style="padding-bottom:25px">
      <h6>Posted at: {{x[5]}}</h6>
    </div>
    <!-- cant use context processor to insert function  -->
    
    <br><br>
    </p>    
 
    {% endfor %}

    <!-- <p class="reply"> -->
   
    
  </div>


<script>

  // var getData = [];
  // var usersList = [];
// <!-- 
// function status(response) {
//   //Check Promise
//   if (response.status >= 200 && response.status < 300) {
//     return Promise.resolve(response)
//   } else {
//     return Promise.reject(new Error(response.statusText))
//   }
// }

// function json(response) {
//   //Return JSON format
//   return response.json()
// }

// function getUsers(){
  
//   fetch('https://jsonplaceholder.typicode.com/users')
//   .then(status)
//   .then(json)
//   .then(function(dataList) {
//     usersList = dataList;    
//     dataList.forEach(function(data){
//       $('#selUser').append($('<option>', { 
//         value: data.id,
//         text : data.name 
//     }));
      
//     });
//     getPosts("");
    
    
//   })
//   .catch(function(error) {
//     console.log('Fetch User Error :-S', error);
//   });
  
// }

// function getPosts(option){
  
//   fetch('https://jsonplaceholder.typicode.com/posts' + option)
//   .then(status)
//   .then(json)
//   .then(function(dataList) {
//     getData = dataList;
//     var divReply = $(".reply")
//     divReply.empty();
    
//     dataList.forEach(function(data){
//       var post = $('<p class="post"/>');
      
//       var divID = $('<div class="userName"/>').append($('<span>').append('By: ', usersList[data.userId - 1].name));    
//       var divTitle = $('<div class="title"/>').append(data.title);
//       var divBody = $('<div class="body"/>').append(data.body)
      
//       divReply.append(post.append(divID,divTitle,divBody));
      
//     });
    
//   })
//   .catch(function(error) {
//     console.log('Fetch Post Error :-S', error);
//   });
// } -->


// $(document).ready(function() {
//   //Get Post On Document Ready
//   getUsers();
// })

// function searchUser(){
//   var userSelected = $('#selUser').val();
  
//   if (userSelected != 0){
//     getPosts("?userId=" + userSelected);
//   }
//   else{
//     getPosts("");
//   }
// } 
// </script>


{% endblock main %}
</body>
</html>


